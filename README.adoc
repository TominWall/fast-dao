# spring-db-template

### *偷懒必备的ORM框架,提高非常多的开发效率*
### 作者:张亚伟
### 邮箱:398850094@qq.com

基于Spring深度封装的ORM快速开发框架
---

警告:目前只支持主键为字符串,逻辑删除字段布尔,创建时间和更新时间datetime 的表,

---
有不完善的地方请多多指导

---

### 安装方式

----
@Component
public class FastConfig {
    @Autowired
    private JdbcTemplate jdbcTemplate;
    @Bean
    public void fastJdbcConfig(){
        //目前有MyBatis实现FastMyBatisImpl.class和SpringJdbc实现SpringJDBCMySqlImpl.class
        //可以自己通过继承执行器FastDBActuator编写自己的实现
        AutomaticParameterSetting setting = new AutomaticParameterSetting(FastMyBatisImpl.class);
        //设置默认属性字段自动操作配置,如果表设计和我不同,自行设置
        //主键:id,创建时间:createTime,更新时间:updateTime,逻辑删除:deleted
        setting.defaultSetting();
    }
}
----

### 代码生成

----

public class FileTest {
    public static void main(String[] args) throws ClassNotFoundException, SQLException, TemplateException, IOException {
        CodeCreateParameter codeParameter = new CodeCreateParameter();
        //数据库驱动
        codeParameter.setDriverClass("com.mysql.cj.jdbc.Driver");
        //数据库连接
        codeParameter.setUrl("jdbc:mysql://127.0.0.1:3306/xxx?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=UTC");
        //数据库账号
        codeParameter.setUser("xxxx");
        //数据库密码
        codeParameter.setPassword("xxxx");
        //文件生成的包路径
        codeParameter.setBasePackage("xxx.xxx.xxx.xxx");
        //需要生成的文件 (可选值Base<生成Pojo类,Pojo查询模板,Pojo字段集>,Service<Service接口>,ServiceImpl<Service实现类>,Dto<Dto对象>,Dao<Dao对象>, All<上述所有文件>)
        codeParameter.setNeedModules(CodeCreateParameter.CodeCreateModule.All);
        //是否生成表前缀
        codeParameter.setPrefix(false);
        //需要生成的表名 (可选值,具体表名或all)
        codeParameter.setCreateTables("tab1","tab2");
        //生成代码
        new TableFileCreateUtils().create(codeParameter);
    }
}

----


### 两种操作方式



第一种直接通过Pojo模板进行操作

----

例1:
/**
 * 主键查询
 */
UserTest user = UserTestTemplate.fastFunction().findByPrimaryKey("主键id");

例2:
/**
 * 数据插入
 */
UserTestTemplate.fastFunction().insert(user);

例3:
/**
 * 按条件查询并分页
 */
UserTestTemplate userTestTemplate = new UserTestTemplate();
userTestTemplate.fastName().equal("张亚伟");//指定字段AND条件
PageInfo<UserTest> userPageInfo = userTestTemplate.dbTemplate().findPage(1, 10);

----

第二种通过Service继承通用方法进行操作

----
@Autowired
private IUserTestService userTestService;

例1:
/**
 * 主键查询
 */
UserTest userTest = userTestService.findByPrimaryKey("ec37288a7c504047b09cc6a27c55fec5");

例2:
/**
 * 数据插入
 */
 Boolean b = userTestService.insert(user);

例3:
/**
 * 按条件查询并分页
 */
FastExample fastExample = new FastExample();
fastExample.field(UserTestFields.Name).equal("张亚伟");//指定字段AND查询
PageInfo<UserTest> page = userTestService.findPage(fastExample, 1, 10);
----

# 本框架具备很强的灵活性,可兼容任意的其他框架进行使用